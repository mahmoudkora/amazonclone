const express = require('express');
const app = express();
const dotenv = require('dotenv');
dotenv.config({path:'./config.env'})
const port = process.env.PORT || 6000;
const DBconnection = require('./config/database.js');
const categoryRoutes = require('./routes/categoryRoute')
const apiError =  require('./utils/apiErrors.js');
const errorMiddleware  = require('./middleware/errorMiddleware.js')
DBconnection();

//middlewares
 app.use(express.json())

//routes
app.use('/category', categoryRoutes)

app.all('*' ,(req , res , next)=>{
    next(new apiError('this route is not exist', 400))
})

app.use(errorMiddleware)


//serverRunning
app.listen(port , ()=>{
    console.log(`server running on port ${port} `);
    
})















































































































































































































